<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../static/hw_session_small.css">
    <link rel="stylesheet" href="../../static/start_session.css">
    <link rel="stylesheet" href="../../static/home.css">
    <title>Mindful | Home</title>

</head>
<body >
    <main id="grid-container">
        <div id = "header">
            <img src="" alt="">
            <h1>Mindful</h1>
        </div>
		<div id="clock">
			<div id = "month-holder" class="date-info">
				<p id = "month"></p>
			</div>
			<div id = "day-holder" class="date-info">
				<p id = "day"></p>
			</div>
			<div id = "year-holder" class="date-info">
				<p id = "year"></p>
			</div>
			<div id = "hour-holder">
				<p id = "hour"></p>
			</div>
			<div id = "minutes-holder">
				<p id = "minutes"></p>
			</div>
            <div id = "seconds-holder">
				<p id = "seconds"></p>
			</div>
		</div>
  
        <div id="link-container">
            <ul>
				<li class="mindfulness-link">
                    <a href = "../../../mindfullness/templates/mindfullness/index.html">Breathing</a>
                </li>
				<li class="mindfulness-link">
                    <a href = "../../../mindfullness/templates/mindfullness/index.html">Stretch</a>
                </li>
				<li class="mindfulness-link">
                    <a href = "../dashboard">Dashboard</a>
                </li>
				<li class="mindfulness-link">
                    <a href = "/mindfullness/">Mindfulness</a>
                </li>
			</ul> 
        </div>
        <button id="start-session-btn" onclick="showModal()"><div id="plus">+</div></button>


		<!-- Modals -->
		<div id="modal-container" class="hide">
			<form class="session-form" action = "" method = "post">
				<div id="session-modal">
					<div id="form-input-container">
						{% csrf_token %}
						{{session_form}}
					</div>
					<div id="select-assignments">
						<h3 class="label">Select Assignments</h3>
						<div class="list-container">
							<ul class="assign-list">
								{% for assignment in hw_data %}
								<li>
									<div class="assignment">
											<input class="checkBox" type="checkbox" name="chk[]">
											<p class="assign-name">{{ assignment.name }}</p>
											<p class="due-date">{{ assignment.due_date }}</p>
									</div>
								</li>
								<!-- If the input is checked then add assignment into selected assignment map and send to running page -->
								<!-- https://www.shivatutorials.com/2020/01/checkbox-in-django.html -->
								{% endfor %}
							</ul>
						</div>
					</div>
					<button id="start-btn" onclick="startSession()" type="button">Start</button>
				</div>
				
				<!-- Second Modal -->
				<div id="start-modal" class="hide">
					<div id="goal">
						<h2>Goal</h2>
						<p id="goal-text">Get my homework done SDfasdfas ssssssdff  asdfasdf  asdf
							asdf
							asd
							faaasdfgasdg
						</p>
					</div>
					<div id="tasks">
						<h3 class="label">Tasks</h3>
						<div class="list-container">
							<ul class="assign-list">
								<li>
									<div class="assignment">
											<input type="checkbox" checked='true'>
											<p class="assign-name">Assignment</p>
											<p class="due-date">Date</p>
									</div>
								</li>
							</ul>
						</div>
					</div>
					<div id="end-time-container">
						<h3>Session End Time</h3>
						<p id="end-time">12 pm</p>
					</div>
					<!-- <input type="submit" value="Submit"> -->
					<!-- <button id="finish-btn" onclick="finishSession()">Finish Session</button> -->
					<button id="finish-btn" onclick="finishSession()" type="submit">Finish Session</button>
				</div>
			</form>	
		</div>

    </main>
	<footer>
	</footer>
<script>
	function timeSet(){

		const twoDigit = (number) => {
			if (number < 10){
				number = "0" + number
			}
			return number
		}

		const base12 = (hour) => {
			if (hour % 12 == 0){
				return 12;
			}
			return hour % 12;
		}

		let currentDate = new Date();
		let month = document.getElementById("month");
		month.innerHTML = (currentDate.getMonth() +1) + " /";

		let day = document.getElementById("day");
		day.innerHTML = currentDate.getDate() + " /";

		let year = document.getElementById("year");
		year.innerHTML = currentDate.getFullYear();

		let hours = document.getElementById("hour");
		let hour = currentDate.getHours();
		hours.innerHTML = base12(hour) + " :";

		let minutes = document.getElementById("minutes");
		let mins = currentDate.getMinutes();
		minutes.innerHTML = twoDigit(mins);
		minutes.innerHTML = twoDigit(mins) + " :";

        let seconds = document.getElementById("seconds");
		let sec = currentDate.getSeconds();
        seconds.innerHTML = twoDigit(sec);
	};
    timeSet();
	setInterval(timeSet, 1000);
</script>
<script src="../../static/modal.js"></script>
</body>

</html>